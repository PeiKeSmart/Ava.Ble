# JieLi OTA 快速开始指南

欢迎使用 JieLi OTA 固件升级工具!本指南将帮助你在 5 分钟内完成首次固件升级。

## 🎯 准备工作

在开始之前,请确保你已经准备好:

- ✅ Windows 10 (Build 17763+) 或 Windows 11
- ✅ 支持蓝牙 4.0+ 的适配器
- ✅ 杰理蓝牙设备 (已开启)
- ✅ 正确的固件文件 (.ufw 或 .bfu)

## 📥 安装应用

### 方式一: 使用安装包 (推荐)

1. 下载最新的 `.msi` 安装包
2. 双击运行安装程序
3. 按照向导完成安装
4. 从开始菜单启动应用

### 方式二: 使用便携版

1. 下载 `.zip` 压缩包
2. 解压到任意目录
3. 双击 `JieLi.OTA.Desktop.exe`

## 🚀 5 分钟快速升级

### 步骤 1: 启动应用 (10 秒)

双击桌面图标或从开始菜单启动 **JieLi OTA 固件升级工具**。

![启动界面](images/startup.png)

应用界面分为三部分:
- **左侧**: 设备扫描和选择
- **中间**: 固件选择和升级控制
- **右侧**: 实时日志显示

### 步骤 2: 扫描设备 (5-10 秒)

1. 确保你的杰理设备已开启并处于可发现状态
2. 点击左上角的 **"开始扫描"** 按钮
3. 等待 5 秒,应用会自动停止扫描

**日志示例**:
```
[20:47:27] 开始扫描 BLE 设备...
[20:47:27] 发现设备: JL_Earbuds_001 (RSSI: -58)
[20:47:28] 发现设备: JL_Speaker_002 (RSSI: -65)
[20:47:32] 扫描停止,共发现 5 个设备
```

### 步骤 3: 选择设备 (5 秒)

1. 在设备列表中找到你的目标设备
2. 点击该设备行即可选中 (高亮显示)

**识别技巧**:
- 信号强度 (RSSI) 越大表示设备越近
- 可以通过设备名称识别
- 如果设备显示为 `Unknown_XXX`,可以通过 MAC 地址识别

### 步骤 4: 选择固件文件 (10 秒)

1. 点击中间的 **"浏览"** 按钮
2. 在文件对话框中选择固件文件
3. 支持的格式: `.ufw` (标准固件), `.bfu` (双备份固件)

**重要提示**:
> ⚠️ 请务必确认固件文件与设备型号匹配,使用错误的固件可能导致设备变砖!

### 步骤 5: 开始升级 (30秒-5分钟)

1. 确认设备和固件文件无误
2. 点击 **"开始升级"** 按钮
3. 等待升级完成

**升级过程**:

```
正在连接设备...        (5-10秒)
正在获取设备信息...    (2-5秒)
正在校验固件文件...    (1-3秒)
正在进入升级模式...    (2-5秒)
正在传输文件...        (30秒-5分钟)
  ▓▓▓▓▓▓▓▓▓▓░░░░░░░░░░ 50% (15.2 KB/s)
升级成功!
```

**进度信息**:
- **进度条**: 显示传输进度
- **百分比**: 当前完成百分比
- **速度**: 实时传输速度
- **大小**: 已传输/总大小

### 步骤 6: 完成升级 (5-10秒)

升级成功后:

1. **双备份固件**: 设备会自动重启,升级完成
2. **单备份固件**: 应用会等待设备重启并自动重连,完成后显示"升级成功"

**成功标志**:
- ✅ 进度条达到 100%
- ✅ 状态显示"升级成功"
- ✅ 日志显示"升级完成"

## 🎉 恭喜!

你已经成功完成了第一次固件升级!

## 📝 常见问题

### Q: 扫描不到设备怎么办?

**解决方法**:
1. 确认设备已开启并处于配对模式
2. 将设备移近电脑 (< 5米)
3. 检查 Windows 蓝牙是否已开启
4. 重启设备并重新扫描

### Q: 连接失败怎么办?

**解决方法**:
1. 重启设备
2. 关闭其他蓝牙应用
3. 重启电脑蓝牙适配器:
   - Windows 设置 → 蓝牙和其他设备
   - 关闭蓝牙,等待 5 秒,再打开

### Q: 升级过程中断开怎么办?

**双备份固件**:
- 可以重新连接并继续升级 (支持断点续传)

**单备份固件**:
- 需要重新开始升级流程
- 建议保持设备静止,不要移动

### Q: 传输速度慢怎么办?

**优化方法**:
1. 将设备移近电脑
2. 远离 Wi-Fi 路由器等干扰源
3. 关闭其他蓝牙设备
4. 使用蓝牙 5.0+ 适配器

## 📖 进阶功能

### 查看日志

右侧日志窗口显示详细的升级过程:
- 支持多行选择 (拖动鼠标)
- 支持复制 (Ctrl+C)
- 点击 "清空日志" 清除记录

### 取消升级

升级过程中可以随时点击 **"取消升级"** 按钮:
- 应用会尝试安全退出
- 双备份固件保留已传输数据
- 单备份固件建议重新完整升级

### 设备识别

如果设备显示为 `Unknown_XXX`:
- 这是正常现象
- 设备未广播名称以节省电量
- 可能显示设备类型前缀,如 `Apple_XXX`、`JL_XXX`

## 🆘 需要帮助?

如果遇到问题:

1. **查看详细文档**:
   - [用户手册](USER_MANUAL.md)
   - [故障排查指南](TROUBLESHOOTING.md)

2. **提交问题**:
   - GitHub Issues: <https://github.com/PeiKeSmart/Ava.Ble/issues>
   - 请附带日志文件和错误截图

3. **联系支持**:
   - Email: support@peikesmart.com

## 🎯 下一步

- 阅读 [用户手册](USER_MANUAL.md) 了解更多功能
- 查看 [API 文档](API_DOCUMENTATION.md) 了解技术细节
- 参与 [开发贡献](DEVELOPER_GUIDE.md)

---

**祝你使用愉快!** 🎊

*如果本指南对你有帮助,请在 GitHub 上给我们一个 ⭐*
